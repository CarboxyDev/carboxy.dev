---
import { LINKS } from '@/lib/config/links';
import { GithubIcon, MailIcon, TwitterIcon } from '@/components/icons/social-icons';
import { PenLine } from 'lucide-react';
---

<section class="relative flex flex-col items-center text-center lg:items-start lg:text-left">
  <div class="space-y-6">
    <div class="space-y-2">
      <h1 class="text-4xl font-semibold tracking-tight text-foreground md:text-5xl lg:text-6xl font-heading">
        CarboxyDev
      </h1>
      <p class="text-lg text-muted-foreground md:text-xl">
        Full-Stack Developer
      </p>
    </div>

    <p class="max-w-xl text-base leading-relaxed text-muted-foreground md:text-lg">
      I build performant web applications from concept to deployment.
      Focused on clean code, intuitive interfaces, and scalable architecture.
    </p>

    <div class="flex items-center justify-center gap-1 lg:justify-start">
      <a
        href={LINKS.twitter}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Follow on Twitter"
        class="inline-flex h-10 w-10 items-center justify-center rounded-md text-muted-foreground transition-colors hover:bg-accent hover:text-foreground"
      >
        <TwitterIcon className="h-5 w-5" />
      </a>
      <a
        href={LINKS.github}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="View GitHub profile"
        class="inline-flex h-10 w-10 items-center justify-center rounded-md text-muted-foreground transition-colors hover:bg-accent hover:text-foreground"
      >
        <GithubIcon className="h-5 w-5" />
      </a>
      <button
        id="hero-email-btn"
        type="button"
        aria-label="Copy email address"
        class="inline-flex h-10 w-10 cursor-pointer items-center justify-center rounded-md text-muted-foreground transition-colors hover:bg-accent hover:text-foreground"
      >
        <MailIcon className="h-5 w-5" />
      </button>
      <a
        href={LINKS.blog}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Read blog"
        class="inline-flex h-10 w-10 items-center justify-center rounded-md text-muted-foreground transition-colors hover:bg-accent hover:text-foreground"
      >
        <PenLine className="h-5 w-5" />
      </a>
    </div>

    <div class="flex flex-col gap-3 pt-2 sm:flex-row">
      <button
        id="view-work-btn"
        class="inline-flex h-11 items-center justify-center gap-2 rounded-md bg-primary px-6 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90"
      >
        View my work
      </button>
      <button
        id="contact-btn"
        class="inline-flex h-11 items-center justify-center gap-2 rounded-md border border-border bg-background px-6 text-sm font-medium text-foreground transition-colors hover:bg-accent"
      >
        Get in touch
      </button>
    </div>
  </div>
</section>

<script>
  import { scrollToElementById, scrollToSelector } from '@/lib/scroll';
  import { copyEmailToClipboard } from '@/lib/clipboard';
  import { LINKS } from '@/lib/config/links';

  const viewWorkBtn = document.getElementById('view-work-btn');
  const contactBtn = document.getElementById('contact-btn');
  const emailBtn = document.getElementById('hero-email-btn');

  viewWorkBtn?.addEventListener('click', () => {
    scrollToElementById('projects');
  });

  contactBtn?.addEventListener('click', () => {
    scrollToSelector('[data-section="contact"]');
  });

  emailBtn?.addEventListener('click', async () => {
    try {
      const email = await copyEmailToClipboard(LINKS.email);
      const { toast } = await import('sonner');
      toast.success('Email copied!', { description: email });
    } catch {
      const { toast } = await import('sonner');
      toast.error('Failed to copy email');
    }
  });
</script>
